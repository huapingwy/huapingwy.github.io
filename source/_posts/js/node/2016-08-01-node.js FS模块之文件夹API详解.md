---
title: node.js FS模块之文件夹API详解
categories: [JavaScript, node]
---


## 创建文件夹

>- 异步： `fs.mkdir(path, [mode], callback)` callback 接受一个err参数
>- 同步： `fs.mkdirSync(path, [mode])`

**参数**
>- path 创建的目录路径
>- mode 目录权限（读写权限）默认0777
>- callback 回调，接受一个err参数

**例子**

```js
const fs = require('fs');
fs.mkdir('mkdir', function (err) {
    if (!err) {
        console.log('创建成功');
    }
})
```

## 删除目录

>- 异步： `fs.rmdir(path, [callback(err)])`
>- 同步： `fs.rmdirSync(path)`
**参数**
>- path 要删除目录的路径
>- callback 接受1个参数 (err) ,返回错误信息

**异步例子**

```js
fs.rmdir('./mkdir', function (err) {
    if (err) {
        console.log(err)
    }
})
```

**同步例子**

```js
fs.rmdirSync('./mkdir2')
```

## 读取文件夹（查看目录下有什么文件和文件夹）

>- 异步： `fs.readdir(path, [callback(err,files)])`
>- 同步： `fs.readdirSync(path)` 返回文件名称的数组

**参数**
>- path 读取的路径
>- callback 接受2个参数 (err,files) ,files是目录中所包含的文件名称的数组

**异步例子**

```js
fs.readdir('./', function (err, files) {
    if (!err) {
        console.log(files);
    }
})
```

**同步例子**

```js
var files = fs.readdirSync('./');
console.log(files);
```

## 获得文件信息

>- 异步：`fs.stat(path, [callback(err, stats)])`
>- 同步： `fs.statSync(path)`

## 文件写入操作

>- 异步： `fs.writeFile(filename, data, [options], callback)`
>- 同步： `fs.writeFile(filename, data, [options], callback)`

- 往文件里异步写数据，写入的内容可以是字符串，也可以是二进制数据。
- 如果文件不存在，则创建；如果文件已存在，那么内容会被覆盖

- @param {String} filename 文件名
- @param {String|Buffer} data 要往文件里写的内容，可以是字符串，也可以是二进制数据。当为二进制数据时候，options.encoding 会被忽略
- @param {Object} [options]
- @param {String} options.encoding 编码，默认是utf8
- @param {Number} options.mode=438 模式
- @param {String} options.flag=w 写文件的模式
- @param {Function} callback 回调方法
